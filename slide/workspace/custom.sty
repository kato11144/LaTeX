\ProvidesPackage{custom}

% --- 色の定義 ---
\definecolor{ThemeColor}{rgb}{0.273, 0.343, 0.414}
\definecolor{TextColor}{rgb}{0.25, 0.25, 0.25}
\definecolor{BackgroundColor}{rgb}{0.98, 0.98, 0.98}
\definecolor{ItemColor}{rgb}{0.55, 0.55, 0.55}
\definecolor{NormalColor}{rgb}{0.20, 0.20, 0.20}
\definecolor{ExampleColor}{rgb}{0.20, 0.50, 0.20}
\definecolor{AlertColor}{rgb}{0.50, 0.20, 0.20}

% --- パッケージ ---
\usepackage{xeCJK}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{caption}
\usepackage{multicol}
\usepackage{multirow}
\usepackage{booktabs}

% --- 行間の設定 ---
\renewcommand{\baselinestretch}{1.5}

% --- フォントの設定 ---
\setCJKmainfont{Noto Sans CJK JP}
\setCJKsansfont{Noto Sans CJK JP}

% --- カスタムテーマの設定 ---
\usetheme{default}
\usefonttheme{professionalfonts}

% --- 色の設定 ---
\setbeamercolor{normal text}{fg=TextColor}
\setbeamercolor{background canvas}{bg=BackgroundColor}
\setbeamercolor{frametitle}{fg=white, bg=ThemeColor}
\setbeamercolor{section in toc}{fg=TextColor}
\setbeamercolor{item}{fg=ItemColor}
\setbeamercolor{block title}{fg=NormalColor, bg=ThemeColor!20}
\setbeamercolor{block title example}{fg=ExampleColor, bg=ThemeColor!20}
\setbeamercolor{block title alerted}{fg=AlertColor, bg=ThemeColor!20}
\setbeamercolor{block body}{bg=ThemeColor!10}
\setbeamercolor{block body example}{bg=ThemeColor!10}
\setbeamercolor{block body alerted}{bg=ThemeColor!10}

% --- シンボルの設定 ---
\setbeamertemplate{itemize item}{-}
\setbeamertemplate{itemize subitem}{-}

% --- ブロックの設定 ---
\setbeamerfont{block title}{series=\bfseries}
\setbeamertemplate{blocks}[rounded][shadow=false]

% --- フッターの設定 ---
\setbeamertemplate{footline}[frame number]
\setbeamertemplate{navigation symbols}{}

% --- タイトルページのカスタマイズ ---
\newcommand{\customtitlepage}{
    \begin{center}
        \vskip 2.0em
        \Large
        \textbf{\inserttitle} \\
        \vskip -1.0em
        \noindent\textcolor{ThemeColor!50}{\rule{0.7\linewidth}{1.5pt}} \\
        \begin{center}
            \footnotesize
            \insertinstitute \\
            \insertauthor \\
            \insertdate
        \end{center}
    \end{center}
}
\defbeamertemplate*{title page}{custom}[1][]{
    \customtitlepage
}

% --- フレームタイトルのカスタマイズ ---
\setbeamerfont{frametitle}{size=\Large, series=\bfseries}
\setbeamertemplate{frametitle}{
    \nointerlineskip
    \begin{beamercolorbox}[wd=\paperwidth, ht=2.2em, leftskip=1.2em]{frametitle}
        \strut\insertframetitle
        \vskip 0.2em
    \end{beamercolorbox}
}

% --- 目次のカスタマイズ ---
\AtBeginSection[]{
\begin{frame}{Outline}
    \tableofcontents[currentsection]
\end{frame}
}
